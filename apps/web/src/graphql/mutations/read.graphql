# Queries
query GetLatestRead($userBookId: String!) {
  getLatestRead(userBookId: $userBookId) {
    id
    startDate
    finishedDate
    userBookId
    readingSessions {
      id
      capacity
      progress
      type
      createdAt
    }
    UserBook {
      id
      book {
        id
        title
        pageCount
      }
    }
  }
}

query GetCurrentlyReadingBooksWithReads {
  getCurrentlyReadingBooksWithReads {
    id
    status
    rating
    dateAdded
    createdAt
    updatedAt
    book {
      id
      title
      subtitle
      authors
      yearPublished
      pageCount
      slug
      covers {
        id
        url
        size
        source
      }
      ratings {
        id
        count
        source
        maxScore
        score
      }
    }
    read {
      id
      startDate
      finishedDate
      userBookId
      readingSessions {
        id
        capacity
        progress
        type
        createdAt
      }
    }
  }
}

# Mutations
mutation CreateRead($userBookId: String!) {
  createRead(userBookId: $userBookId) {
    id
    startDate
    finishedDate
    userBookId
    readingSessions {
      id
      capacity
      progress
      type
      createdAt
    }

  }
}

mutation CreateReadingSession(
  $readId: String!
  $capacity: Int!
  $progress: Int!
  $type: PROGRESS_TYPE!
) {
  createReadingSession(
    readId: $readId
    capacity: $capacity
    progress: $progress
    type: $type
  ) {
    id
    capacity
    progress
    type
    createdAt
    read {
      id
      startDate
      finishedDate
      userBookId
    }
  }
}
